<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>PeakPilot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
<div class="container">
  <header class="flex">
    <h1 class="logo">PeakPilot</h1>
    <button id="themeToggle" type="button">ðŸŒ—</button>
  </header>
  <p class="tagline">ffmpeg loudness/TP processing for Club / Streaming / Unlimited Premaster</p>
  <div id="ffmpegWarning" class="flash error" style="display:none">ffmpeg not found. See README.</div>
  <form action="{{ url_for('main.process') }}" method="post" enctype="multipart/form-data" class="card">
    <input type="file" name="audio" id="audio" multiple accept=".wav,.wave,.aif,.aiff,.flac" required>
    <details id="adv">
      <summary>Advanced</summary>
      <label>Output codec
        <select name="codec" id="codec">
          <option value="wav">WAV</option>
          <option value="aiff">AIFF</option>
        </select>
      </label>
    </details>
    <button type="submit">Process</button>
  </form>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="flash">
      {% for category, message in messages %}
        <p class="{{ category }}">{{ message }}</p>
      {% endfor %}
      </div>
    {% endif %}
  {% endwith %}
  <footer><small>Requires ffmpeg. Runs locally.</small></footer>
</div>
<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
